class GoogleMapAPI{API_KEY="AIzaSyA_yIOa-xcxX3ToUlAQroKIO8tQktzOcKY";init(){this.searchInput=document.querySelector('input[name="term"]'),this.mapSection=document.querySelector(".map"),this.currentMarkers=[],this.setupListener()}setupListener(){document.querySelector(".search-controls__button").addEventListener("click",this.handlePlaceSearch),this.searchInput.addEventListener("keyup",this.checkForEnter)}handlePlaceSearch=e=>{var t=this.searchInput.value;if(t){var s={location:this.map.getCenter(),radius:50,query:t};this.service=new google.maps.places.PlacesService(this.map),this.service.textSearch(s,this.handlePlaceResults)}};checkForEnter=e=>{"Enter"===e.key&&this.handlePlaceSearch()};handlePlaceResults=(e,t)=>{if(t===google.maps.places.PlacesServiceStatus.OK){console.log(e),this.currentMarkers.forEach((e=>{e.setMap(null),e=null})),this.currentMarkers=[];const t=document.querySelector(".results"),s=t.querySelectorAll("*");s&&s.forEach((e=>{e.remove()})),e.forEach((e=>{const s=new google.maps.Marker({position:e.geometry.location,map:this.map,title:e.name}),a=`\n                    <div>\n                        <h2>${e.name}</h2>\n                        <p>${e.rating} stars (${e.user_ratings_total} reviews)</p>\n                    </div>\n                `,n=new google.maps.InfoWindow({content:a});s.addListener("click",(()=>{n.open(this.map,s)})),this.currentMarkers.push(s);let r=document.createElement("div");r.classList.add("results__row");let l=document.createElement("a");l.classList.add("results__photo"),e.photos?l.style.background=`url(${e.photos[0].getUrl({maxWidth:100,maxHeight:100})}`:l.style.background=`url(${e.icon})`,l.style.backgroundSize="cover",l.style.backgroundPoisition="center",r.appendChild(l);let c=document.createElement("a");c.classList.add("results__name"),c.textContent=e.name,r.appendChild(c);let o=document.createElement("div");o.classList.add("results__rating-row");let i=document.createElement("span");i.classList.add("results__rating"),i.textContent=`${e.rating} stars `,o.appendChild(i);let d=document.createElement("span");d.classList.add("results__reviews"),d.textContent=`(${e.user_ratings_total} reviews)`,o.appendChild(d),r.appendChild(o),t.appendChild(r)}))}};ready(){const e={center:{lat:33.81328,lng:-84.36175},zoom:11};this.map=new google.maps.Map(this.mapSection,e)}}window.gMap=new GoogleMapAPI,window.gMap.init();
//# sourceMappingURL=google-map.js.map